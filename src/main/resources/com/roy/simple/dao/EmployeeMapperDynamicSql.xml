<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.roy.simple.dao.EmployeeMapperDynamicSql">

    <!--
        if
        choose(when,otherwise)
        trim(where,set)
        foreach
    -->

    <!--查询员工，要求携带了哪个字段查询条件就带上这个字段的值-->
    <!--public List<Employee> getEmpsByConditionIf(Employee employee);-->
    <select id="getEmpsByConditionIf" resultType="com.roy.simple.model.Department">
      SELECT * FROM tbl_employee
      WHERE 
      <!--
        test: 判断表达式（OGNL）
        从参数中取值进行判断
      -->
      <if test="id!=null">
          id=#{id}
      </if>
      <if test="lastName!=null and lastName!=''">
          AND last_name LIKE #{lastName}
      </if>
      <if test="email!=null and email.trim()!=''">
          AND email=#{email}
      </if>
      <!--ognl会进行字符串与数字的转换判断-->
      <if test="gender==0 or gender==1">
          AND gender=#{gender}
      </if>

    </select>



</mapper>